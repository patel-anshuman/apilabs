<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="./images/apilabs.png" type="image/x-icon" />
    <title>My Workspace</title>
    <link rel="stylesheet" href="./styles/workspace.css" />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <!------------------------------------ Nav bar ------------------------------------------>
    <nav>
      <div id="nav-1">
        <a href="./home.html"><button>Home</button></a>
        <a href="./workspace.html"><button>Workspaces</button></a>
        <a href="#"><button>API Network</button></a>
        <a href="#"><button>Explore</button></a>
      </div>
      <div id="search">
        <button>
          <img src="./images/navbar/search-normal-1.svg" alt="search-icon" />
          <span>Search APILABS</span>
        </button>
      </div>
      <div id="nav-2">
        <!-- <button id="invite-btn">
          <img src="./images/navbar/add-group.png" alt="invite-icon" />
          <span>Invite</span>
        </button> -->
        <!-- <label class="switch">
          <input type="checkbox" id="toggle">
          <span class="slider"></span>
        </label> -->
        <button id="settings-btn">
          <img src="./images/navbar/setting.png" alt="settings-icon" />
        </button>
        <button id="notification-btn">
          <img
            src="./images/navbar/notification.png"
            alt="notifications-icon"
          />
        </button>
        <button id="account-btn">
          <img src="./images/navbar/account.png" alt="manage-accounts-icon" />
        </button>
        <div id="account-window" class="show">
          <img src="./images/navbar/account.png" />
          <b><p id="user-name"></p></b>
          <p id="user-email"></p>
          <button id="sign-out">Sign Out</button>
        </div>
      </div>
    </nav>

    <!------------------------------------ Workspace ------------------------------------------>
    <section id="workspace">
      <div id="side-pane">
        <div id="side-pane-header">
          <div>
            <button id="my-workspace-btn">
              <img src="./images/workspace/user.png" alt="" />
              <span>My Workspace</span>
            </button>
          </div>
          <div>
            <button>New</button>
            <button>Import</button>
          </div>
        </div>
        <div id="side-pane-body">
          <div class="side-pane-body-button">
            <button
              class="side-pane-tab"
              id="collections-btn"
              onclick="openArea(event, 'area-1')"
            >
              <img src="./images/workspace/collection.png" alt="" />
              <span>Collections</span>
            </button>
            <button
              class="side-pane-tab"
              id="enviroments-btn"
              onclick="openArea(event, 'area-2')"
            >
              <img src="./images/workspace/hosting.png" alt="" />
              <span>Enviroments</span>
            </button>
            <button
              class="side-pane-tab"
              id="history-btn"
              onclick="openArea(event, 'area-3')"
            >
              <img src="./images/workspace/history.png" alt="" />
              <span>History</span>
            </button>
            <hr />
          </div>
          <div class="side-pane-body-area" id="area-1" for="collections-btn">
            <!-- Collection data rendered here -->
          </div>
          <div class="side-pane-body-area" id="area-2" for="enviroments-btn">
            <!-- Enviroments data rendered here -->
          </div>
          <div class="side-pane-body-area" id="area-3" for="history-btn">
            <!-- History data rendered here -->
          </div>
        </div>
      </div>
      <div id="work-pane">
        <div id="work-title">
          <p>Untitled Request</p>
        </div>
        <div id="work-body">
          <div id="work-method">
            <select name="method" id="method">
              <option value="GET">GET</option>
              <option value="POST">POST</option>
              <option value="PUT">PUT</option>
              <option value="PATCH">PATCH</option>
              <option value="DELETE">DELETE</option>
            </select>
            <input
              type="url"
              name="url"
              id="url"
              placeholder="Enter URL or paste text"
            />
            <button id="send-btn">Send</button>
          </div>
          <div id="work-data">
            <button
              class="tab"
              id="params-btn"
              onclick="openTab(event, 'tab1')"
            >
              Params
            </button>
            <button
              class="tab"
              id="headers-btn"
              onclick="openTab(event, 'tab2')"
            >
              Headers
            </button>
            <button class="tab" id="body-btn" onclick="openTab(event, 'tab3')">
              Body
            </button>
          </div>
          <div id="tab1" class="tab-content" for="params-btn">
            <table>
              <thead>
                <tr>
                  <td>Key</td>
                  <td>Value</td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <input
                      type="text"
                      name="tab1key1"
                      id="tab1key1"
                      placeholder="Key"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      name="tab1val1"
                      id="tab1val1"
                      placeholder="Value"
                    />
                  </td>
                </tr>
                <tr>
                  <td>
                    <input
                      type="text"
                      name="tab1key2"
                      id="tab1key2"
                      placeholder="Key"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      name="tab1val2"
                      id="tab1val2"
                      placeholder="Value"
                    />
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div id="tab2" class="tab-content" for="headers-btn">
            <table>
              <thead>
                <tr>
                  <td>Key</td>
                  <td>Value</td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <input
                      type="text"
                      name="tab2key1"
                      id="tab2key1"
                      placeholder="Key"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      name="tab2val1"
                      id="tab2val1"
                      placeholder="Value"
                    />
                  </td>
                </tr>
                <tr>
                  <td>
                    <input
                      type="text"
                      name="tab2key2"
                      id="tab2key2"
                      placeholder="Key"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      name="tab2val2"
                      id="tab2val2"
                      placeholder="Value"
                    />
                  </td>
                </tr>
                <tr>
                  <td>
                    <input
                      type="text"
                      name="tab2key3"
                      id="tab2key3"
                      placeholder="Key"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      name="tab2val3"
                      id="tab2val3"
                      placeholder="Value"
                    />
                  </td>
                </tr>
                <tr>
                  <td>
                    <input
                      type="text"
                      name="tab2key4"
                      id="tab2key4"
                      placeholder="Key"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      name="tab2val4"
                      id="tab2val4"
                      placeholder="Value"
                    />
                  </td>
                </tr>
                <tr>
                  <td>
                    <input
                      type="text"
                      name="tab2key5"
                      id="tab2key5"
                      placeholder="Key"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      name="tab2val5"
                      id="tab2val5"
                      placeholder="Value"
                    />
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div id="tab3" class="tab-content" for="body-btn">
            <select name="body-data-type" id="body-data-type">
              <option value="text">Text</option>
              <option value="javascript">JavaScript</option>
              <option value="JSON">JSON</option>
              <option value="HTML">HTML</option>
              <option value="XML">XML</option>
            </select>
            <textarea
              name="body-input-area"
              id="body-input-area"
              cols="100"
              rows="20"
            ></textarea>
          </div>
        </div>
        <div id="response-body">
          <!-- Response data appended here  -->
          <p>Response</p>
          <div id="dummy-data">
            <img
              src="https://postman.com/_aether-assets/illustrations/light/illustration-hit-send.svg"
              alt=""
            />
            <p>Enter the URL and click Send to get a response</p>
          </div>
        </div>
      </div>
    </section>
  </body>
  <script src="./scripts.js"></script>
  <script src="./userdata.js"></script>
  <script>
    // const accountBtn = document.getElementById('account-btn');
    // const accountWindow = document.getElementById('account-window');

    // accountButton.addEventListener('click', function() {
    //     accountWindow.classList.toggle('hidden');
    // });

    //Side pane: collections, enviroments, history
    function openArea(evt, tabName) {
      // Declare all variables
      var i, tabcontent, tablinks;

      // Get all elements with class="side-pane-body-area" and hide them
      sidePaneBodyArea = document.getElementsByClassName("side-pane-body-area");
      for (i = 0; i < sidePaneBodyArea.length; i++) {
        sidePaneBodyArea[i].classList.remove("show");
      }

      // Get all elements with class="side-pane-tab" and remove the class "active"
      sidePaneTabLinks = document.getElementsByClassName("side-pane-tab");
      for (i = 0; i < sidePaneTabLinks.length; i++) {
        sidePaneTabLinks[i].classList.remove("active");
      }

      // Show the current tab, and add an "active" class to the button that opened the tab
      document.getElementById(tabName).classList.add("show");
      evt.currentTarget.classList.add("active");
    }

    // Input data tabs params, headers, body
    function openTab(evt, tabName) {
      // Declare all variables
      var i, tabcontent, tablinks;

      // Get all elements with class="tab-content" and hide them
      tabcontent = document.getElementsByClassName("tab-content");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].classList.remove("show");
      }

      // Get all elements with class="tab" and remove the class "active"
      tablinks = document.getElementsByClassName("tab");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].classList.remove("active");
      }

      // Show the current tab, and add an "active" class to the button that opened the tab
      document.getElementById(tabName).classList.add("show");
      evt.currentTarget.classList.add("active");
    }

    // //Signout - fetch api to blacklist token then location.href -> index.html
    // let signOutBtn = document.getElementById("sign-out");
    // signOutBtn.addEventListener("click", () => {
    //   // Make a request to the backend to blacklist the token
    //   fetch(`${BaseServerURL}/users/logout`)
    //     .then((response) => {
    //       // Redirect the user to the index.html page
    //       location.href = "index.html";
    //     })
    //     .catch((error) => {
    //       console.error("Error logging out:", error);
    //     });
    // });

    // let responseBody = document.getElementById("response-body");

    // document.getElementById("send-btn").addEventListener("click", async () => {
    //   try {
    //     let response = await fetch("data.json");
    //     let jsonData = await response.json();
    //     var prettyJson = JSON.stringify(jsonData, null, 2);
    //     responseBody.innerHTML = `<textarea id="json-textarea"></textarea>`;
    //     document.getElementById("json-textarea").value = prettyJson;
    //   } catch (error) {
    //     console.error(error);
    //   }
    // });
  </script>
  <!-- <script>
    const toggleSwitch = document.querySelector("#toggle");
    const body = document.querySelector("body");

    function switchTheme(e) {
      if (e.target.checked) {
        body.classList.add("dark-theme");
      } else {
        body.classList.remove("dark-theme");
      }
    }

    toggleSwitch.addEventListener("change", switchTheme, false);
  </script> -->
</html>
